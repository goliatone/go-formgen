openapi: 3.0.3
info:
  title: Extension Demo
  version: 1.0.0
paths:
  /widgets:
    post:
      operationId: createWidget
      summary: Create widget
      description: Capture metadata for a widget.
      x-formgen:
        submitLabel: "Create widget"
        category: "inventory"
        priority: 1
      x-formgen-success-message: "Widget saved"
      x-admin:
        group: "inventory"
        tags: ["admin", "settings"]
        order: 5
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              x-formgen:
                section: "details"
              x-admin:
                group: "details"
                order: 1
              properties:
                name:
                  type: string
                  description: Widget name
                  x-formgen:
                    widget: "textarea"
                    helpText: "Shown to customers"
                    placeholder: "Give it a friendly name"
                    cssClass: "fg-field--name"
                  x-admin:
                    group: "core"
                    tags: ["display"]
                    widget: "textarea"
                    help: "Shown to customers"
                    placeholder: "Give it a friendly name"
                    readonly: false
                    order: 1
                tags:
                  type: array
                  x-formgen-placeholder: "Add tag"
                  x-formgen:
                    repeaterLabel: "Tag"
                    cssClass: "fg-array--tags"
                  x-admin:
                    group: "taxonomy"
                    tags: ["list"]
                    widget: "chips"
                    placeholder: "Add tag"
                    readonly: true
                    order: 3
                  items:
                    type: string
                    x-formgen:
                      badge: "info"
                      cssClass: "fg-array__item"
                settings:
                  type: object
                  x-formgen:
                    accordion: true
                    cssClass: "fg-fieldset--settings"
                  x-admin:
                    group: "advanced"
                    tags: ["behavior"]
                    order: 2
                  properties:
                    enabled:
                      type: boolean
                      x-formgen-label: "Enable widget"
                      x-formgen-hideLabel: true
                    threshold:
                      type: number
                      x-formgen:
                        unit: "ms"
                        precision: 2
                        helpText: "Controls the debounce window"
                        inputType: "range"
                      x-admin:
                        visibility-rule: "enabled == true"
                        order: 2
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
